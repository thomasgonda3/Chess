{"ast":null,"code":"import _toConsumableArray from\"/Users/learnacademy/Desktop/Chess-ThomasG/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _createForOfIteratorHelper from\"/Users/learnacademy/Desktop/Chess-ThomasG/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Users/learnacademy/Desktop/Chess-ThomasG/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/learnacademy/Desktop/Chess-ThomasG/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/learnacademy/Desktop/Chess-ThomasG/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/learnacademy/Desktop/Chess-ThomasG/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Square from'./components/Square';import whitePawn from'./images/Chess_plt60.png';import whiteRook from'./images/Chess_rlt60.png';import whiteKing from'./images/Chess_klt60.png';import blackKnight from'./images/Chess_ndt60.png';import blackBishop from'./images/Chess_bdt60.png';import blackQueen from'./images/Chess_qdt60.png';import'./App.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.findSquares=function(location){if(_this.state.moveSelected===false){var mod=location%8;var current=0;var possibleMoves=[];var verticalPieceMovements=[-8,8];var horizontalPieceMovements=[-1,1];var diagonalPieceMovements=[-9,-7,7,9];var knightPieceMovements=[-17,-15,-10,-6,6,10,15,17];switch(_this.state.boardState[location]){case\"whitePawn\":if(_this.state.playerTurn===\"White\"){current=location-8;if(current>7&&!_this.state.boardState[current].includes(\"white\")&&!_this.state.boardState[current].includes(\"black\")){possibleMoves.push(current);if(Math.floor(location*.125)===6&&!_this.state.boardState[current-8].includes(\"white\")&&!_this.state.boardState[current-8].includes(\"black\")){possibleMoves.push(current-8);}}for(var i=0;i<2;i++){current=location+diagonalPieceMovements[i];var counter=mod;diagonalPieceMovements[i]%2===0?counter--:counter++;if(current<64&&current>0&&counter>=0&&counter<=8&&(_this.state.boardState[current].includes(\"black\")||current===_this.state.possibleEnPassantSquare)&&Math.floor((location-8)*.125)===Math.floor(current*.125)){possibleMoves.push(current);}}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"blackPawn\":if(_this.state.playerTurn===\"Black\"){current=location+8;if(current<56&&!_this.state.boardState[current].includes(\"white\")&&!_this.state.boardState[current].includes(\"black\")){possibleMoves.push(current);if(Math.floor(location*.125)===1&&!_this.state.boardState[current+8].includes(\"white\")&&!_this.state.boardState[current+8].includes(\"black\")){possibleMoves.push(current+8);}}for(var _i=2;_i<4;_i++){current=location+diagonalPieceMovements[_i];var _counter=mod;diagonalPieceMovements[_i]%2===0?_counter--:_counter++;if(current<64&&current>0&&_counter>=0&&_counter<=8&&(_this.state.boardState[current].includes(\"white\")||current===_this.state.possibleEnPassantSquare)&&Math.floor((location+8)*.125)===Math.floor(current*.125)){possibleMoves.push(current);}}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"whiteKnight\":if(_this.state.playerTurn===\"White\"){var _iterator=_createForOfIteratorHelper(knightPieceMovements),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var movement=_step.value;current=movement+location;if(current<64&&current>0){var spacesAway=0;if(movement===-15||movement===17)spacesAway=1;if(movement===-17||movement===15)spacesAway=-1;if(movement===-6||movement===10)spacesAway=2;if(movement===-10||movement===6)spacesAway=-2;if(Math.floor(location*.125)!==Math.floor((location+spacesAway)*.125))continue;if(_this.state.boardState[current].includes(\"white\"))continue;possibleMoves.push(current);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"blackKnight\":if(_this.state.playerTurn===\"Black\"){var _iterator2=_createForOfIteratorHelper(knightPieceMovements),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _movement=_step2.value;current=_movement+location;if(current<64&&current>0){var _spacesAway=0;if(_movement===-15||_movement===17)_spacesAway=1;if(_movement===-17||_movement===15)_spacesAway=-1;if(_movement===-6||_movement===10)_spacesAway=2;if(_movement===-10||_movement===6)_spacesAway=-2;if(Math.floor(location*.125)!==Math.floor((location+_spacesAway)*.125))continue;if(_this.state.boardState[current].includes(\"black\"))continue;possibleMoves.push(current);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"whiteBishop\":if(_this.state.playerTurn===\"White\"){for(var _movement2 in diagonalPieceMovements){var _current=location+diagonalPieceMovements[_movement2];var _counter2=mod;_movement2%2===0?_counter2--:_counter2++;while(_current<64&&_current>0&&_counter2>=0&&_counter2<8){if(_this.state.boardState[_current].includes(\"white\"))break;possibleMoves.push(_current);if(_this.state.boardState[_current].includes(\"black\"))break;_current+=diagonalPieceMovements[_movement2];_movement2%2===0?_counter2--:_counter2++;}}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"blackBishop\":if(_this.state.playerTurn===\"Black\"){for(var _movement3 in diagonalPieceMovements){var _current2=location+diagonalPieceMovements[_movement3];var _counter3=mod;_movement3%2===0?_counter3--:_counter3++;while(_current2<64&&_current2>0&&_counter3>=0&&_counter3<8){if(_this.state.boardState[_current2].includes(\"black\"))break;possibleMoves.push(_current2);if(_this.state.boardState[_current2].includes(\"white\"))break;_current2+=diagonalPieceMovements[_movement3];_movement3%2===0?_counter3--:_counter3++;}}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"whiteRook\":if(_this.state.playerTurn===\"White\"){for(var _movement4 in verticalPieceMovements){var _current3=location+verticalPieceMovements[_movement4];while(_current3<64&&_current3>0){if(_this.state.boardState[_current3].includes(\"white\"))break;possibleMoves.push(_current3);if(_this.state.boardState[_current3].includes(\"black\"))break;_current3+=verticalPieceMovements[_movement4];;}}var _iterator3=_createForOfIteratorHelper(horizontalPieceMovements),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _movement5=_step3.value;var _current4=location+_movement5;if(_current4<0||_current4>63)continue;if(!_this.state.boardState[_current4].includes(\"white\")){while(Math.floor(_current4*.125)===Math.floor(location*.125)){possibleMoves.push(_current4);_current4+=_movement5;if(_current4>63||_current4<0)break;if(_this.state.boardState[_current4].includes(\"white\"))break;if(_this.state.boardState[_current4-_movement5].includes(\"black\"))break;}}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"blackRook\":if(_this.state.playerTurn===\"Black\"){for(var _movement6 in verticalPieceMovements){var _current5=location+verticalPieceMovements[_movement6];while(_current5<64&&_current5>0){if(_this.state.boardState[_current5].includes(\"black\"))break;possibleMoves.push(_current5);if(_this.state.boardState[_current5].includes(\"white\"))break;_current5+=verticalPieceMovements[_movement6];;}}var _iterator4=_createForOfIteratorHelper(horizontalPieceMovements),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _movement7=_step4.value;var _current6=location+_movement7;if(_current6<0||_current6>63)continue;if(!_this.state.boardState[_current6].includes(\"black\")){while(Math.floor(_current6*.125)===Math.floor(location*.125)){possibleMoves.push(_current6);_current6+=_movement7;if(_current6>63||_current6<0)break;if(_this.state.boardState[_current6].includes(\"black\"))break;if(_this.state.boardState[_current6-_movement7].includes(\"white\"))break;}}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"whiteQueen\":if(_this.state.playerTurn===\"White\"){for(var _movement8 in verticalPieceMovements){var _current7=location+verticalPieceMovements[_movement8];while(_current7<64&&_current7>0){if(_this.state.boardState[_current7].includes(\"white\"))break;possibleMoves.push(_current7);if(_this.state.boardState[_current7].includes(\"black\"))break;_current7+=verticalPieceMovements[_movement8];;}}var _iterator5=_createForOfIteratorHelper(horizontalPieceMovements),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _movement10=_step5.value;var _current9=location+_movement10;if(!_this.state.boardState[_current9].includes(\"white\")){while(Math.floor(_current9*.125)===Math.floor(location*.125)){possibleMoves.push(_current9);_current9+=_movement10;if(_current9>63||_current9<0)break;if(_this.state.boardState[_current9].includes(\"white\"))break;if(_this.state.boardState[_current9-_movement10].includes(\"black\"))break;}}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}for(var _movement9 in diagonalPieceMovements){var _current8=location+diagonalPieceMovements[_movement9];var _counter4=mod;_movement9%2===0?_counter4--:_counter4++;while(_current8<64&&_current8>0&&_counter4>=0&&_counter4<8){if(_this.state.boardState[_current8].includes(\"white\"))break;possibleMoves.push(_current8);if(_this.state.boardState[_current8].includes(\"black\"))break;_current8+=diagonalPieceMovements[_movement9];_movement9%2===0?_counter4--:_counter4++;}}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"blackQueen\":if(_this.state.playerTurn===\"Black\"){for(var _movement11 in verticalPieceMovements){var _current10=location+verticalPieceMovements[_movement11];while(_current10<64&&_current10>0){if(_this.state.boardState[_current10].includes(\"black\"))break;possibleMoves.push(_current10);if(_this.state.boardState[_current10].includes(\"white\"))break;_current10+=verticalPieceMovements[_movement11];;}}var _iterator6=_createForOfIteratorHelper(horizontalPieceMovements),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _movement13=_step6.value;var _current12=location+_movement13;if(!_this.state.boardState[_current12].includes(\"black\")){while(Math.floor(_current12*.125)===Math.floor(location*.125)){possibleMoves.push(_current12);_current12+=_movement13;if(_current12>63||_current12<0)break;if(_this.state.boardState[_current12].includes(\"black\"))break;if(_this.state.boardState[_current12-_movement13].includes(\"white\"))break;}}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}for(var _movement12 in diagonalPieceMovements){var _current11=location+diagonalPieceMovements[_movement12];var _counter5=mod;_movement12%2===0?_counter5--:_counter5++;while(_current11<64&&_current11>0&&_counter5>=0&&_counter5<8){if(_this.state.boardState[_current11].includes(\"black\"))break;possibleMoves.push(_current11);if(_this.state.boardState[_current11].includes(\"white\"))break;_current11+=diagonalPieceMovements[_movement12];_movement12%2===0?_counter5--:_counter5++;}}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"whiteKing\":if(_this.state.playerTurn===\"White\"){for(var _movement14 in verticalPieceMovements){var _current13=location+verticalPieceMovements[_movement14];if(_current13<64&&_current13>0&&!_this.state.boardState[_current13].includes(\"white\")){possibleMoves.push(_current13);}}var _iterator7=_createForOfIteratorHelper(horizontalPieceMovements),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _movement16=_step7.value;var _current15=location+_movement16;if(!_this.state.boardState[_current15].includes(\"white\")&&Math.floor(_current15*.125)===Math.floor(location*.125)){possibleMoves.push(_current15);}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}for(var _movement15 in diagonalPieceMovements){var _current14=location+diagonalPieceMovements[_movement15];var _counter6=mod;_movement15%2===0?_counter6--:_counter6++;if(_current14<64&&_current14>0&&_counter6>=0&&_counter6<8&&!_this.state.boardState[_current14].includes(\"white\")){possibleMoves.push(_current14);}}//castling\nif(_this.state.whiteKingHasMoved===false){if(_this.state.whiteHRookHasMoved===false){if(_this.state.boardState[60]===\"whiteKing\"&&_this.state.boardState[61]===\"\"&&_this.state.boardState[62]===\"\"&&_this.state.boardState[63]===\"whiteRook\"){possibleMoves.push(62);}}if(_this.state.whiteARookHasMoved===false){if(_this.state.boardState[60]===\"whiteKing\"&&_this.state.boardState[59]===\"\"&&_this.state.boardState[58]===\"\"&&_this.state.boardState[57]===\"\"&&_this.state.boardState[56]===\"whiteRook\"){possibleMoves.push(58);}}}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;case\"blackKing\":if(_this.state.playerTurn===\"Black\"){for(var _movement17 in verticalPieceMovements){var _current16=location+verticalPieceMovements[_movement17];if(_current16<64&&_current16>0&&!_this.state.boardState[_current16].includes(\"black\")){possibleMoves.push(_current16);}}var _iterator8=_createForOfIteratorHelper(horizontalPieceMovements),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _movement19=_step8.value;var _current18=location+_movement19;if(!_this.state.boardState[_current18].includes(\"black\")&&Math.floor(_current18*.125)===Math.floor(location*.125)){possibleMoves.push(_current18);}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}for(var _movement18 in diagonalPieceMovements){var _current17=location+diagonalPieceMovements[_movement18];var _counter7=mod;_movement18%2===0?_counter7--:_counter7++;if(_current17<64&&_current17>0&&_counter7>=0&&_counter7<8&&!_this.state.boardState[_current17].includes(\"black\")){possibleMoves.push(_current17);}}//castling\nif(_this.state.blackKingHasMoved===false){if(_this.state.blackHRookHasMoved===false){if(_this.state.boardState[4]===\"blackKing\"&&_this.state.boardState[5]===\"\"&&_this.state.boardState[6]===\"\"&&_this.state.boardState[7]===\"blackRook\"){possibleMoves.push(6);}}if(_this.state.blackARookHasMoved===false){if(_this.state.boardState[4]===\"blackKing\"&&_this.state.boardState[3]===\"\"&&_this.state.boardState[2]===\"\"&&_this.state.boardState[1]===\"\"&&_this.state.boardState[0]===\"blackRook\"){possibleMoves.push(2);}}}_this.setState({possibleMoves:_this.state.possibleMoves.map(function(value,index){if(possibleMoves.includes(index))return true;return false;})});console.log(possibleMoves);}break;default:}}};_this.clearMove=function(){if(_this.state.moveSelected===false){_this.setState({possibleMoves:new Array(64).fill(false)});}};_this.movePiece=function(currentPiece,position,squareName){//select piece\nif(_this.state.moveSelected===false&&_this.state.boardState[position]!==\"\"&&currentPiece.includes(_this.state.playerTurn.toLowerCase())){_this.setState({currentPiece:currentPiece,startingPosition:position,moveSelected:true});}else{//cancel move\nif(position===_this.state.startingPosition){_this.setState({currentPiece:\"\",startingPosition:-1,moveSelected:false});}//make move\nif(_this.state.possibleMoves[position]===true){if(_this.state.playerTurn.includes(\"White\")){_this.setState({playerTurn:\"Black\"});}else{_this.setState({playerTurn:\"White\"});}var pieceInitial='';if(_this.state.currentPiece.includes(\"Knight\")){pieceInitial=pieceInitial.concat('N');}else if(_this.state.currentPiece.includes(\"Bishop\")){pieceInitial=pieceInitial.concat('B');}else if(_this.state.currentPiece.includes(\"Rook\")){pieceInitial=pieceInitial.concat('R');}else if(_this.state.currentPiece.includes(\"Queen\")){pieceInitial=pieceInitial.concat('Q');}else if(_this.state.currentPiece.includes(\"King\")){pieceInitial=pieceInitial.concat('K');}//adds an x to notation if a capture is made.\nif(_this.state.boardState[position]!==''||_this.state.possibleEnPassantSquare===position&&_this.state.currentPiece.includes(\"Pawn\")){if(_this.state.currentPiece.includes('Pawn')){var columns=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\"];pieceInitial=columns[_this.state.startingPosition%8];}pieceInitial=pieceInitial.concat('x');}//sets en passant square for next turn.\nif(_this.state.currentPiece.includes('Pawn')&&(_this.state.startingPosition-16===position||_this.state.startingPosition+16===position)){if(_this.state.currentPiece.includes('white')){_this.setState({possibleEnPassantSquare:position+8});}else{_this.setState({possibleEnPassantSquare:position-8});}}else{_this.setState({possibleEnPassantSquare:\"\"});}//checks if move is castling\nif(_this.state.startingPosition===4&&position===2&&_this.state.currentPiece===\"blackKing\"){_this.setState({boardState:[\"\",\"\",\"blackKing\",\"blackRook\",\"\"].concat(_toConsumableArray(_this.state.boardState.slice(5))),moveRecord:[].concat(_toConsumableArray(_this.state.moveRecord),[\"O-O-O\"]),currentPiece:\"\",startingPosition:-1,moveSelected:false,possibleMoves:new Array(64).fill(false)});}else if(_this.state.startingPosition===4&&position===6&&_this.state.currentPiece===\"blackKing\"){_this.setState({boardState:[].concat(_toConsumableArray(_this.state.boardState.slice(0,4)),[\"\",\"blackRook\",\"blackKing\",\"\"],_toConsumableArray(_this.state.boardState.slice(8))),moveRecord:[].concat(_toConsumableArray(_this.state.moveRecord),[\"O-O\"]),currentPiece:\"\",startingPosition:-1,moveSelected:false,possibleMoves:new Array(64).fill(false)});}else if(_this.state.startingPosition===60&&position===58&&_this.state.currentPiece===\"whiteKing\"){_this.setState({boardState:[].concat(_toConsumableArray(_this.state.boardState.slice(0,56)),[\"\",\"\",\"whiteKing\",\"whiteRook\",\"\"],_toConsumableArray(_this.state.boardState.slice(61))),moveRecord:[].concat(_toConsumableArray(_this.state.moveRecord),[\"O-O-O\"]),currentPiece:\"\",startingPosition:-1,moveSelected:false,possibleMoves:new Array(64).fill(false)});}else if(_this.state.startingPosition===60&&position===62&&_this.state.currentPiece===\"whiteKing\"){_this.setState({boardState:[].concat(_toConsumableArray(_this.state.boardState.slice(0,60)),[\"\",\"whiteRook\",\"whiteKing\",\"\"]),moveRecord:[].concat(_toConsumableArray(_this.state.moveRecord),[\"O-O\"]),currentPiece:\"\",startingPosition:-1,moveSelected:false,possibleMoves:new Array(64).fill(false)//check for en passant captures\n});}else if(_this.state.currentPiece===\"whitePawn\"&&_this.state.possibleEnPassantSquare===position&&_this.state.startingPosition-7===position){//white capture to the right\n_this.setState({boardState:[].concat(_toConsumableArray(_this.state.boardState.slice(0,position)),[\"whitePawn\"],_toConsumableArray(_this.state.boardState.slice(position+1,position+7)),[\"\",\"\"],_toConsumableArray(_this.state.boardState.slice(position+9))),moveRecord:[].concat(_toConsumableArray(_this.state.moveRecord),[\"\".concat(pieceInitial).concat(squareName)]),currentPiece:\"\",startingPosition:-1,moveSelected:false,possibleMoves:new Array(64).fill(false)});}else if(_this.state.currentPiece===\"whitePawn\"&&_this.state.possibleEnPassantSquare===position&&_this.state.startingPosition-9===position){//white capture to the left\n_this.setState({boardState:[].concat(_toConsumableArray(_this.state.boardState.slice(0,position)),[\"whitePawn\"],_toConsumableArray(_this.state.boardState.slice(position+1,position+8)),[\"\",\"\"],_toConsumableArray(_this.state.boardState.slice(position+10))),moveRecord:[].concat(_toConsumableArray(_this.state.moveRecord),[\"\".concat(pieceInitial).concat(squareName)]),currentPiece:\"\",startingPosition:-1,moveSelected:false,possibleMoves:new Array(64).fill(false)});}else if(_this.state.currentPiece===\"blackPawn\"&&_this.state.possibleEnPassantSquare===position&&_this.state.startingPosition+7===position){//black capture to the left\n_this.setState({boardState:[].concat(_toConsumableArray(_this.state.boardState.slice(0,position-8)),[\"\",\"\"],_toConsumableArray(_this.state.boardState.slice(position-6,position)),[\"blackPawn\"],_toConsumableArray(_this.state.boardState.slice(position+1))),moveRecord:[].concat(_toConsumableArray(_this.state.moveRecord),[\"\".concat(pieceInitial).concat(squareName)]),currentPiece:\"\",startingPosition:-1,moveSelected:false,possibleMoves:new Array(64).fill(false)});}else if(_this.state.currentPiece===\"blackPawn\"&&_this.state.possibleEnPassantSquare===position&&_this.state.startingPosition+9===position){//black capture to the right\n_this.setState({boardState:[].concat(_toConsumableArray(_this.state.boardState.slice(0,position-9)),[\"\",\"\"],_toConsumableArray(_this.state.boardState.slice(position-7,position)),[\"blackPawn\"],_toConsumableArray(_this.state.boardState.slice(position+1))),moveRecord:[].concat(_toConsumableArray(_this.state.moveRecord),[\"\".concat(pieceInitial).concat(squareName)]),currentPiece:\"\",startingPosition:-1,moveSelected:false,possibleMoves:new Array(64).fill(false)});}else if(_this.state.startingPosition<position){//regular moves\n_this.setState({boardState:[].concat(_toConsumableArray(_this.state.boardState.slice(0,_this.state.startingPosition)),[\"\"],_toConsumableArray(_this.state.boardState.slice(_this.state.startingPosition+1,position)),[_this.state.currentPiece],_toConsumableArray(_this.state.boardState.slice(position+1))),moveRecord:[].concat(_toConsumableArray(_this.state.moveRecord),[\"\".concat(pieceInitial).concat(squareName)]),currentPiece:\"\",startingPosition:-1,moveSelected:false,possibleMoves:new Array(64).fill(false)});}else{_this.setState({boardState:[].concat(_toConsumableArray(_this.state.boardState.slice(0,position)),[_this.state.currentPiece],_toConsumableArray(_this.state.boardState.slice(position+1,_this.state.startingPosition)),[\"\"],_toConsumableArray(_this.state.boardState.slice(_this.state.startingPosition+1))),moveRecord:[].concat(_toConsumableArray(_this.state.moveRecord),[\"\".concat(pieceInitial).concat(squareName)]),currentPiece:\"\",startingPosition:-1,moveSelected:false,possibleMoves:new Array(64).fill(false)});}}}};_this.castlingConditions=function(){if(_this.state.boardState[0]!==\"blackRook\"&&_this.state.blackARookHasMoved===false){_this.setState({blackARookHasMoved:true});}if(_this.state.boardState[4]!==\"blackKing\"&&_this.state.blackKingHasMoved===false){_this.setState({blackKingHasMoved:true});}if(_this.state.boardState[7]!==\"blackRook\"&&_this.state.blackHRookHasMoved===false){_this.setState({blackHRookHasMoved:true});}if(_this.state.boardState[56]!==\"whiteRook\"&&_this.state.whiteARookHasMoved===false){_this.setState({whiteARookHasMoved:true});}if(_this.state.boardState[60]!==\"whiteKing\"&&_this.state.whiteKingHasMoved===false){_this.setState({whiteKingHasMoved:true});}if(_this.state.boardState[63]!==\"whiteRook\"&&_this.state.whiteHRookHasMoved===false){_this.setState({whiteHRookHasMoved:true});}};_this.state={colorGrid:[\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\",\"green\",\"white\"],boardState:[\"blackRook\",\"blackKnight\",\"blackBishop\",\"blackQueen\",\"blackKing\",\"blackBishop\",\"blackKnight\",\"blackRook\",\"blackPawn\",\"blackPawn\",\"blackPawn\",\"blackPawn\",\"blackPawn\",\"blackPawn\",\"blackPawn\",\"blackPawn\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"whitePawn\",\"whitePawn\",\"whitePawn\",\"whitePawn\",\"whitePawn\",\"whitePawn\",\"whitePawn\",\"whitePawn\",\"whiteRook\",\"whiteKnight\",\"whiteBishop\",\"whiteQueen\",\"whiteKing\",\"whiteBishop\",\"whiteKnight\",\"whiteRook\"],possibleMoves:new Array(64).fill(false),moveRecord:[],moveSelected:false,currentPiece:\"\",startingPosition:-1,playerTurn:\"White\",possibleEnPassantSquare:\"\",whiteKingHasMoved:false,whiteARookHasMoved:false,whiteHRookHasMoved:false,blackKingHasMoved:false,blackARookHasMoved:false,blackHRookHasMoved:false};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;var board=this.state.colorGrid.map(function(value,index){return/*#__PURE__*/React.createElement(Square,{index:index,value:value,key:index,colorGrid:_this2.state.colorGrid,boardState:_this2.state.boardState,possibleMoves:_this2.state.possibleMoves,moveSelected:_this2.state.moveSelected,startingPosition:_this2.state.startingPosition,findSquares:_this2.findSquares,clearMove:_this2.clearMove,movePiece:_this2.movePiece});});var moveList=this.state.moveRecord.map(function(value){return/*#__PURE__*/React.createElement(\"div\",{className:\"column notationMoves\"},value);});return/*#__PURE__*/React.createElement(React.Fragment,null,this.castlingConditions(),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column left\"},/*#__PURE__*/React.createElement(\"p\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"column middle\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"headerColumn\"},/*#__PURE__*/React.createElement(\"img\",{id:\"chessHeaderImage\",src:whitePawn,alt:\"White Pawn\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"headerColumn\"},/*#__PURE__*/React.createElement(\"img\",{id:\"chessHeaderImage\",src:blackKnight,alt:\"black Knight\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"headerColumn\"},/*#__PURE__*/React.createElement(\"img\",{id:\"chessHeaderImage\",src:whiteKing,alt:\"White King\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"headerColumn\"},/*#__PURE__*/React.createElement(\"h1\",null,\"CHESS\")),/*#__PURE__*/React.createElement(\"div\",{className:\"headerColumn\"},/*#__PURE__*/React.createElement(\"img\",{id:\"chessHeaderImage\",src:blackQueen,alt:\"Black Queen\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"headerColumn\"},/*#__PURE__*/React.createElement(\"img\",{id:\"chessHeaderImage\",src:whiteRook,alt:\"White Rook\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"headerColumn\"},/*#__PURE__*/React.createElement(\"img\",{id:\"chessHeaderImage\",src:blackBishop,alt:\"Black Bishop\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"column right\"},/*#__PURE__*/React.createElement(\"p\",null))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(\"div\",{id:\"boardBackground\"},/*#__PURE__*/React.createElement(\"div\",{id:\"boardHolder\"},/*#__PURE__*/React.createElement(\"div\",{id:\"boardHolderTwo\"},board)))),/*#__PURE__*/React.createElement(\"div\",{className:\"column moves\"},/*#__PURE__*/React.createElement(\"div\",{id:\"moveBackground\"},/*#__PURE__*/React.createElement(\"h2\",null,\"\".concat(this.state.playerTurn,\" to move.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},moveList)))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/learnacademy/Desktop/Chess-ThomasG/src/App.js"],"names":["React","Component","Square","whitePawn","whiteRook","whiteKing","blackKnight","blackBishop","blackQueen","App","props","findSquares","location","state","moveSelected","mod","current","possibleMoves","verticalPieceMovements","horizontalPieceMovements","diagonalPieceMovements","knightPieceMovements","boardState","playerTurn","includes","push","Math","floor","i","counter","possibleEnPassantSquare","setState","map","value","index","console","log","movement","spacesAway","whiteKingHasMoved","whiteHRookHasMoved","whiteARookHasMoved","blackKingHasMoved","blackHRookHasMoved","blackARookHasMoved","clearMove","Array","fill","movePiece","currentPiece","position","squareName","toLowerCase","startingPosition","pieceInitial","concat","columns","slice","moveRecord","castlingConditions","colorGrid","board","moveList"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Square from './components/Square'\nimport whitePawn from './images/Chess_plt60.png'\nimport whiteRook from './images/Chess_rlt60.png'\nimport whiteKing from './images/Chess_klt60.png'\nimport blackKnight from './images/Chess_ndt60.png'\nimport blackBishop from './images/Chess_bdt60.png'\nimport blackQueen from './images/Chess_qdt60.png'\nimport './App.css'\n\nclass App extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      colorGrid: [\"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\", \"green\", \"white\"],\n      boardState: [\"blackRook\", \"blackKnight\", \"blackBishop\", \"blackQueen\", \"blackKing\", \"blackBishop\", \"blackKnight\", \"blackRook\", \"blackPawn\", \"blackPawn\", \"blackPawn\", \"blackPawn\", \"blackPawn\", \"blackPawn\", \"blackPawn\", \"blackPawn\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"whitePawn\", \"whitePawn\", \"whitePawn\", \"whitePawn\", \"whitePawn\", \"whitePawn\", \"whitePawn\", \"whitePawn\", \"whiteRook\", \"whiteKnight\", \"whiteBishop\", \"whiteQueen\", \"whiteKing\", \"whiteBishop\", \"whiteKnight\", \"whiteRook\"],\n      possibleMoves: new Array(64).fill(false),\n      moveRecord: [],\n      moveSelected: false,\n      currentPiece: \"\",\n      startingPosition: -1,\n      playerTurn: \"White\",\n      possibleEnPassantSquare: \"\",\n      whiteKingHasMoved: false,\n      whiteARookHasMoved: false,\n      whiteHRookHasMoved: false,\n      blackKingHasMoved: false,\n      blackARookHasMoved: false,\n      blackHRookHasMoved: false\n    }\n  }\n\n  findSquares = (location) => {\n    if (this.state.moveSelected === false) {\n      let mod = location % 8;\n      let current = 0;\n      let possibleMoves = [];\n      let verticalPieceMovements = [-8, 8];\n      let horizontalPieceMovements = [-1, 1];\n      let diagonalPieceMovements = [-9, -7, 7, 9];\n      let knightPieceMovements = [-17, -15, -10, -6, 6, 10, 15, 17]\n      switch (this.state.boardState[location]) {\n        case \"whitePawn\":\n          if (this.state.playerTurn === \"White\")  {\n            current = location - 8;\n            if (current > 7 && !this.state.boardState[current].includes(\"white\") && !this.state.boardState[current].includes(\"black\"))  {\n              possibleMoves.push(current);\n              if (Math.floor(location * .125) === 6 && !this.state.boardState[current - 8].includes(\"white\") && !this.state.boardState[current - 8].includes(\"black\"))  {\n                possibleMoves.push(current - 8);\n              }\n            }\n\n            for (let i = 0; i < 2; i++) {\n              current = location + diagonalPieceMovements[i];\n              let counter = mod;\n              diagonalPieceMovements[i] % 2 === 0 ? counter-- : counter++;\n              if (current < 64 && current > 0 && counter >= 0 && counter <= 8 && (this.state.boardState[current].includes(\"black\") || current === this.state.possibleEnPassantSquare) && Math.floor((location - 8) * .125) === Math.floor(current * .125)) {\n                possibleMoves.push(current);\n              }\n            }\n\n            this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n             if (possibleMoves.includes(index))  return true;\n             return false;\n            })})\n\n            console.log( possibleMoves )\n          }\n        break;\n        case \"blackPawn\":\n          if (this.state.playerTurn === \"Black\")  {\n            current = location + 8;\n            if (current < 56 && !this.state.boardState[current].includes(\"white\") && !this.state.boardState[current].includes(\"black\"))  {\n              possibleMoves.push(current);\n              if (Math.floor(location * .125) === 1 && !this.state.boardState[current + 8].includes(\"white\") && !this.state.boardState[current + 8].includes(\"black\"))  {\n                possibleMoves.push(current + 8);\n              }\n            }\n\n            for (let i = 2; i < 4; i++) {\n              current = location + diagonalPieceMovements[i];\n              let counter = mod;\n              diagonalPieceMovements[i] % 2 === 0 ? counter-- : counter++;\n              if (current < 64 && current > 0 && counter >= 0 && counter <= 8 && (this.state.boardState[current].includes(\"white\") || current === this.state.possibleEnPassantSquare) && Math.floor((location + 8) * .125) === Math.floor(current * .125)) {\n                possibleMoves.push(current);\n              }\n            }\n\n            this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n             if (possibleMoves.includes(index))  return true;\n             return false;\n            })})\n\n            console.log( possibleMoves )\n          }\n        break;\n        case \"whiteKnight\":\n          if (this.state.playerTurn === \"White\")  {\n            for (let movement of knightPieceMovements) {\n              current = movement + location\n              if (current < 64 && current > 0) {\n                let spacesAway = 0;\n                if (movement === -15 || movement === 17) spacesAway = 1;\n                if (movement === -17 || movement === 15) spacesAway = -1;\n                if (movement === -6 || movement === 10) spacesAway = 2;\n                if (movement === -10 || movement === 6) spacesAway = -2;\n                if (Math.floor(location * .125) !== Math.floor((location + spacesAway) * .125)) continue;\n                if (this.state.boardState[current].includes(\"white\")) continue;\n                possibleMoves.push(current);\n              }\n            }\n\n            this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n             if (possibleMoves.includes(index))  return true;\n             return false;\n            })})\n\n            console.log( possibleMoves )\n          }\n        break;\n        case \"blackKnight\":\n          if (this.state.playerTurn === \"Black\")  {\n            for (let movement of knightPieceMovements) {\n              current = movement + location\n              if (current < 64 && current > 0) {\n                let spacesAway = 0;\n                if (movement === -15 || movement === 17) spacesAway = 1;\n                if (movement === -17 || movement === 15) spacesAway = -1;\n                if (movement === -6 || movement === 10) spacesAway = 2;\n                if (movement === -10 || movement === 6) spacesAway = -2;\n                if (Math.floor(location * .125) !== Math.floor((location + spacesAway) * .125)) continue;\n                if (this.state.boardState[current].includes(\"black\")) continue;\n                possibleMoves.push(current);\n              }\n            }\n\n            this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n             if (possibleMoves.includes(index))  return true;\n             return false;\n            })})\n\n            console.log( possibleMoves )\n          }\n        break;\n        case \"whiteBishop\":\n          if (this.state.playerTurn === \"White\")  {\n            for (let movement in diagonalPieceMovements) {\n              let current = location + diagonalPieceMovements[movement];\n              let counter = mod;\n              movement % 2 === 0 ? counter-- : counter++;\n              while (current < 64 && current > 0 && counter >= 0 && counter < 8) {\n                if (this.state.boardState[current].includes(\"white\"))  break;\n                possibleMoves.push(current);\n                if (this.state.boardState[current].includes(\"black\"))  break;\n                current += diagonalPieceMovements[movement];\n                movement % 2 === 0 ? counter-- : counter++;\n              }\n            }\n\n              this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n                if (possibleMoves.includes(index))  return true;\n                return false;\n              })})\n\n            console.log(possibleMoves)\n          }\n        break;\n\n        case \"blackBishop\":\n          if (this.state.playerTurn === \"Black\")  {\n            for (let movement in diagonalPieceMovements) {\n              let current = location + diagonalPieceMovements[movement];\n              let counter = mod;\n              movement % 2 === 0 ? counter-- : counter++;\n              while (current < 64 && current > 0 && counter >= 0 && counter < 8) {\n                if (this.state.boardState[current].includes(\"black\"))  break;\n                possibleMoves.push(current);\n                if (this.state.boardState[current].includes(\"white\"))  break;\n                current += diagonalPieceMovements[movement];\n                movement % 2 === 0 ? counter-- : counter++;\n              }\n            }\n\n              this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n                if (possibleMoves.includes(index))  return true;\n                return false;\n              })})\n\n            console.log(possibleMoves)\n          }\n        break;\n\n        case \"whiteRook\":\n          if (this.state.playerTurn === \"White\")  {\n            for (let movement in verticalPieceMovements) {\n              let current = location + verticalPieceMovements[movement];\n              while (current < 64 && current > 0)  {\n                if (this.state.boardState[current].includes(\"white\"))  break;\n                possibleMoves.push(current);\n                if (this.state.boardState[current].includes(\"black\"))  break;\n                current += verticalPieceMovements[movement];;\n              }\n            }\n\n            for (let movement of horizontalPieceMovements)  {\n              let current = location + movement;\n              if (current < 0 || current > 63) continue;\n              if (!this.state.boardState[current].includes(\"white\"))  {\n                while (Math.floor(current * .125) === Math.floor(location * .125))  {\n                  possibleMoves.push(current);\n                  current += movement;\n                  if (current > 63 || current < 0)  break;\n                  if (this.state.boardState[current].includes(\"white\"))  break;\n                  if (this.state.boardState[current - movement].includes(\"black\"))  break;\n                }\n              }\n            }\n\n            this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n              if (possibleMoves.includes(index))  return true;\n              return false;\n            })})\n\n            console.log( possibleMoves )\n          }\n        break;\n\n        case \"blackRook\":\n          if (this.state.playerTurn === \"Black\")  {\n            for (let movement in verticalPieceMovements) {\n              let current = location + verticalPieceMovements[movement];\n              while (current < 64 && current > 0)  {\n                if (this.state.boardState[current].includes(\"black\"))  break;\n                possibleMoves.push(current);\n                if (this.state.boardState[current].includes(\"white\"))  break;\n                current += verticalPieceMovements[movement];;\n              }\n            }\n\n            for (let movement of horizontalPieceMovements)  {\n              let current = location + movement;\n              if (current < 0 || current > 63) continue;\n              if (!this.state.boardState[current].includes(\"black\"))  {\n                while (Math.floor(current * .125) === Math.floor(location * .125))  {\n                  possibleMoves.push(current);\n                  current += movement;\n                  if (current > 63 || current < 0)  break;\n                  if (this.state.boardState[current].includes(\"black\"))  break;\n                  if (this.state.boardState[current - movement].includes(\"white\"))  break;\n                }\n              }\n            }\n\n               this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n                 if (possibleMoves.includes(index))  return true;\n                 return false;\n               })})\n\n              console.log( possibleMoves )\n            }\n          break;\n        case \"whiteQueen\":\n          if (this.state.playerTurn === \"White\")  {\n            for (let movement in verticalPieceMovements) {\n              let current = location + verticalPieceMovements[movement];\n              while (current < 64 && current > 0)  {\n                if (this.state.boardState[current].includes(\"white\"))  break;\n                possibleMoves.push(current);\n                if (this.state.boardState[current].includes(\"black\"))  break;\n                current += verticalPieceMovements[movement];;\n              }\n            }\n\n            for (let movement of horizontalPieceMovements)  {\n              let current = location + movement;\n              if (!this.state.boardState[current].includes(\"white\"))  {\n                while (Math.floor(current * .125) === Math.floor(location * .125))  {\n                  possibleMoves.push(current);\n                  current += movement;\n                  if (current > 63 || current < 0)  break;\n                  if (this.state.boardState[current].includes(\"white\"))  break;\n                  if (this.state.boardState[current - movement].includes(\"black\"))  break;\n                }\n              }\n            }\n\n            for (let movement in diagonalPieceMovements) {\n              let current = location + diagonalPieceMovements[movement];\n              let counter = mod;\n              movement % 2 === 0 ? counter-- : counter++;\n              while (current < 64 && current > 0 && counter >= 0 && counter < 8) {\n                if (this.state.boardState[current].includes(\"white\"))  break;\n                possibleMoves.push(current);\n                if (this.state.boardState[current].includes(\"black\"))  break;\n                current += diagonalPieceMovements[movement];\n                movement % 2 === 0 ? counter-- : counter++;\n              }\n            }\n\n            this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n             if (possibleMoves.includes(index))  return true;\n             return false;\n            })})\n\n            console.log( possibleMoves )\n          }\n        break;\n        case \"blackQueen\":\n          if (this.state.playerTurn === \"Black\")  {\n            for (let movement in verticalPieceMovements) {\n              let current = location + verticalPieceMovements[movement];\n              while (current < 64 && current > 0)  {\n                if (this.state.boardState[current].includes(\"black\"))  break;\n                possibleMoves.push(current);\n                if (this.state.boardState[current].includes(\"white\"))  break;\n                current += verticalPieceMovements[movement];;\n              }\n            }\n\n            for (let movement of horizontalPieceMovements)  {\n              let current = location + movement;\n              if (!this.state.boardState[current].includes(\"black\"))  {\n                while (Math.floor(current * .125) === Math.floor(location * .125))  {\n                  possibleMoves.push(current);\n                  current += movement;\n                  if (current > 63 || current < 0)  break;\n                  if (this.state.boardState[current].includes(\"black\"))  break;\n                  if (this.state.boardState[current - movement].includes(\"white\"))  break;\n                }\n              }\n            }\n\n            for (let movement in diagonalPieceMovements) {\n              let current = location + diagonalPieceMovements[movement];\n              let counter = mod;\n              movement % 2 === 0 ? counter-- : counter++;\n              while (current < 64 && current > 0 && counter >= 0 && counter < 8) {\n                if (this.state.boardState[current].includes(\"black\"))  break;\n                possibleMoves.push(current);\n                if (this.state.boardState[current].includes(\"white\"))  break;\n                current += diagonalPieceMovements[movement];\n                movement % 2 === 0 ? counter-- : counter++;\n              }\n            }\n\n            this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n             if (possibleMoves.includes(index))  return true;\n             return false;\n            })})\n\n            console.log( possibleMoves )\n          }\n        break;\n        case \"whiteKing\":\n          if (this.state.playerTurn === \"White\")  {\n            for (let movement in verticalPieceMovements) {\n              let current = location + verticalPieceMovements[movement];\n              if (current < 64 && current > 0 && !this.state.boardState[current].includes(\"white\"))  {\n                possibleMoves.push(current);\n              }\n            }\n\n            for (let movement of horizontalPieceMovements)  {\n              let current = location + movement;\n              if (!this.state.boardState[current].includes(\"white\") && Math.floor(current * .125) === Math.floor(location * .125))  {\n                  possibleMoves.push(current);\n              }\n            }\n\n            for (let movement in diagonalPieceMovements) {\n              let current = location + diagonalPieceMovements[movement];\n              let counter = mod;\n              movement % 2 === 0 ? counter-- : counter++;\n              if (current < 64 && current > 0 && counter >= 0 && counter < 8 && !this.state.boardState[current].includes(\"white\")) {\n                possibleMoves.push(current);\n              }\n            }\n\n            //castling\n            if (this.state.whiteKingHasMoved === false) {\n              if (this.state.whiteHRookHasMoved === false)  {\n                if (this.state.boardState[60] === \"whiteKing\" && this.state.boardState[61] === \"\" && this.state.boardState[62] === \"\" && this.state.boardState[63] === \"whiteRook\") {\n                  possibleMoves.push(62)\n                }\n              }\n              if (this.state.whiteARookHasMoved === false)  {\n                if (this.state.boardState[60] === \"whiteKing\" && this.state.boardState[59] === \"\" && this.state.boardState[58] === \"\" && this.state.boardState[57] === \"\" && this.state.boardState[56] === \"whiteRook\") {\n                  possibleMoves.push(58)\n                }\n              }\n            }\n\n            this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n             if (possibleMoves.includes(index))  return true;\n             return false;\n            })})\n\n            console.log( possibleMoves )\n          }\n        break;\n        case \"blackKing\":\n          if (this.state.playerTurn === \"Black\")  {\n            for (let movement in verticalPieceMovements) {\n              let current = location + verticalPieceMovements[movement];\n              if (current < 64 && current > 0 && !this.state.boardState[current].includes(\"black\"))  {\n                possibleMoves.push(current);\n              }\n            }\n\n            for (let movement of horizontalPieceMovements)  {\n              let current = location + movement;\n              if (!this.state.boardState[current].includes(\"black\") && Math.floor(current * .125) === Math.floor(location * .125))  {\n                  possibleMoves.push(current);\n              }\n            }\n\n            for (let movement in diagonalPieceMovements) {\n              let current = location + diagonalPieceMovements[movement];\n              let counter = mod;\n              movement % 2 === 0 ? counter-- : counter++;\n              if (current < 64 && current > 0 && counter >= 0 && counter < 8 && !this.state.boardState[current].includes(\"black\")) {\n                possibleMoves.push(current);\n              }\n            }\n\n            //castling\n            if (this.state.blackKingHasMoved === false) {\n              if (this.state.blackHRookHasMoved === false)  {\n                if (this.state.boardState[4] === \"blackKing\" && this.state.boardState[5] === \"\" && this.state.boardState[6] === \"\" && this.state.boardState[7] === \"blackRook\") {\n                  possibleMoves.push(6)\n                }\n              }\n              if (this.state.blackARookHasMoved === false)  {\n                if (this.state.boardState[4] === \"blackKing\" && this.state.boardState[3] === \"\" && this.state.boardState[2] === \"\" && this.state.boardState[1] === \"\" && this.state.boardState[0] === \"blackRook\") {\n                  possibleMoves.push(2)\n                }\n              }\n            }\n\n            this.setState({ possibleMoves: this.state.possibleMoves.map( (value, index) => {\n             if (possibleMoves.includes(index))  return true;\n             return false;\n            })})\n\n            console.log( possibleMoves )\n          }\n        break;\n        default:\n      }\n    }\n  }\n\n  clearMove = () => {\n    if (this.state.moveSelected === false)  {\n      this.setState({ possibleMoves: new Array(64).fill(false) })\n    }\n  }\n\n  movePiece = (currentPiece, position, squareName) => {\n    //select piece\n    if (this.state.moveSelected === false && this.state.boardState[position] !== \"\" && currentPiece.includes(this.state.playerTurn.toLowerCase()))  {\n      this.setState({\n      currentPiece: currentPiece,\n      startingPosition: position,\n      moveSelected: true,\n    })} else {\n        //cancel move\n        if (position === this.state.startingPosition)  {\n          this.setState({\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n          })\n        }\n        //make move\n        if (this.state.possibleMoves[position] === true) {\n          if (this.state.playerTurn.includes(\"White\")) {\n            this.setState({ playerTurn: \"Black\"})\n          } else {\n            this.setState({ playerTurn: \"White\"})\n          }\n          let pieceInitial = ''\n          if (this.state.currentPiece.includes(\"Knight\")) {\n            pieceInitial = pieceInitial.concat('N')\n          } else if (this.state.currentPiece.includes(\"Bishop\")) {\n            pieceInitial = pieceInitial.concat('B')\n          } else if (this.state.currentPiece.includes(\"Rook\")) {\n            pieceInitial = pieceInitial.concat('R')\n          } else if (this.state.currentPiece.includes(\"Queen\")) {\n            pieceInitial = pieceInitial.concat('Q')\n          } else if (this.state.currentPiece.includes(\"King\")) {\n            pieceInitial = pieceInitial.concat('K')\n          }\n\n          //adds an x to notation if a capture is made.\n          if (this.state.boardState[position] !== '' || (this.state.possibleEnPassantSquare === position && this.state.currentPiece.includes(\"Pawn\")))  {\n            if (this.state.currentPiece.includes('Pawn')) {\n              let columns = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\"]\n              pieceInitial = columns[this.state.startingPosition % 8]\n            }\n            pieceInitial = pieceInitial.concat('x')\n          }\n\n          //sets en passant square for next turn.\n            if (this.state.currentPiece.includes('Pawn') && (this.state.startingPosition - 16 === position || this.state.startingPosition + 16 === position)){\n              if (this.state.currentPiece.includes('white'))  {\n                this.setState({ possibleEnPassantSquare: position + 8})\n              } else {\n                this.setState({ possibleEnPassantSquare: position - 8})\n              }\n            } else {\n              this.setState({ possibleEnPassantSquare: \"\"})\n            }\n          //checks if move is castling\n          if (this.state.startingPosition === 4 && position === 2 && this.state.currentPiece === \"blackKing\") {\n            this.setState({\n            boardState: [\"\", \"\", \"blackKing\", \"blackRook\", \"\", ...this.state.boardState.slice(5)],\n            moveRecord: [...this.state.moveRecord, \"O-O-O\"],\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n            possibleMoves: new Array(64).fill(false),\n          })} else if (this.state.startingPosition === 4 && position === 6 && this.state.currentPiece === \"blackKing\") {\n            this.setState({\n            boardState: [...this.state.boardState.slice(0,4), \"\", \"blackRook\", \"blackKing\", \"\", ...this.state.boardState.slice(8)],\n            moveRecord: [...this.state.moveRecord, \"O-O\"],\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n            possibleMoves: new Array(64).fill(false),\n          })} else if (this.state.startingPosition === 60 && position === 58 && this.state.currentPiece === \"whiteKing\") {\n            this.setState({\n            boardState: [...this.state.boardState.slice(0,56), \"\", \"\", \"whiteKing\", \"whiteRook\", \"\", ...this.state.boardState.slice(61)],\n            moveRecord: [...this.state.moveRecord, \"O-O-O\"],\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n            possibleMoves: new Array(64).fill(false),\n          })} else if (this.state.startingPosition === 60 && position === 62 && this.state.currentPiece === \"whiteKing\") {\n            this.setState({\n            boardState: [...this.state.boardState.slice(0,60), \"\", \"whiteRook\", \"whiteKing\", \"\"],\n            moveRecord: [...this.state.moveRecord, \"O-O\"],\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n            possibleMoves: new Array(64).fill(false),\n            //check for en passant captures\n          })} else if ((this.state.currentPiece === \"whitePawn\") && this.state.possibleEnPassantSquare === position && this.state.startingPosition - 7 === position) {\n            //white capture to the right\n            this.setState({\n            boardState: [...this.state.boardState.slice(0,position), \"whitePawn\", ...this.state.boardState.slice(position + 1, position + 7), \"\", \"\", ...this.state.boardState.slice(position + 9)],\n            moveRecord: [...this.state.moveRecord, `${ pieceInitial }${ squareName }`],\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n            possibleMoves: new Array(64).fill(false),\n          })} else if ((this.state.currentPiece === \"whitePawn\") && this.state.possibleEnPassantSquare === position && this.state.startingPosition - 9 === position) {\n            //white capture to the left\n            this.setState({\n            boardState: [...this.state.boardState.slice(0,position), \"whitePawn\", ...this.state.boardState.slice(position + 1, position + 8), \"\", \"\", ...this.state.boardState.slice(position + 10)],\n            moveRecord: [...this.state.moveRecord, `${ pieceInitial }${ squareName }`],\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n            possibleMoves: new Array(64).fill(false),\n          })} else if ((this.state.currentPiece === \"blackPawn\") && this.state.possibleEnPassantSquare === position && this.state.startingPosition + 7 === position) {\n            //black capture to the left\n            this.setState({\n            boardState: [...this.state.boardState.slice(0,position - 8), \"\", \"\", ...this.state.boardState.slice(position - 6, position), \"blackPawn\", ...this.state.boardState.slice(position + 1)],\n            moveRecord: [...this.state.moveRecord, `${ pieceInitial }${ squareName }`],\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n            possibleMoves: new Array(64).fill(false),\n          })} else if ((this.state.currentPiece === \"blackPawn\") && this.state.possibleEnPassantSquare === position && this.state.startingPosition + 9 === position) {\n            //black capture to the right\n            this.setState({\n            boardState: [...this.state.boardState.slice(0,position - 9), \"\", \"\", ...this.state.boardState.slice(position - 7, position), \"blackPawn\", ...this.state.boardState.slice(position + 1)],\n            moveRecord: [...this.state.moveRecord, `${ pieceInitial }${ squareName }`],\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n            possibleMoves: new Array(64).fill(false),\n          })} else if (this.state.startingPosition < position) {\n            //regular moves\n            this.setState({\n            boardState: [...this.state.boardState.slice(0,this.state.startingPosition), \"\", ...this.state.boardState.slice(this.state.startingPosition + 1, position), this.state.currentPiece, ...this.state.boardState.slice(position + 1)],\n            moveRecord: [...this.state.moveRecord, `${ pieceInitial }${ squareName }`],\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n            possibleMoves: new Array(64).fill(false),\n          })} else {\n            this.setState({\n            boardState: [...this.state.boardState.slice(0,position), this.state.currentPiece, ...this.state.boardState.slice(position + 1, this.state.startingPosition), \"\", ...this.state.boardState.slice(this.state.startingPosition + 1)],\n            moveRecord: [...this.state.moveRecord, `${ pieceInitial }${ squareName }`],\n            currentPiece: \"\",\n            startingPosition: -1,\n            moveSelected: false,\n            possibleMoves: new Array(64).fill(false)\n          })\n          }\n\n        }\n    }\n  }\n\n  castlingConditions = () =>  {\n    if (this.state.boardState[0] !== \"blackRook\" && this.state.blackARookHasMoved === false) {\n      this.setState({ blackARookHasMoved: true })\n    }\n    if (this.state.boardState[4] !== \"blackKing\" && this.state.blackKingHasMoved === false) {\n      this.setState({ blackKingHasMoved: true })\n    }\n    if (this.state.boardState[7] !== \"blackRook\" && this.state.blackHRookHasMoved === false) {\n      this.setState({ blackHRookHasMoved: true })\n    }\n    if (this.state.boardState[56] !== \"whiteRook\" && this.state.whiteARookHasMoved === false) {\n      this.setState({ whiteARookHasMoved: true })\n    }\n    if (this.state.boardState[60] !== \"whiteKing\" && this.state.whiteKingHasMoved === false) {\n      this.setState({ whiteKingHasMoved: true })\n    }\n    if (this.state.boardState[63] !== \"whiteRook\" && this.state.whiteHRookHasMoved === false) {\n      this.setState({ whiteHRookHasMoved: true })\n    }\n  }\n\n  render(){\n    let board = this.state.colorGrid.map((value,index)=> {\n      return (\n        <Square\n          index = { index }\n          value = { value }\n          key = { index }\n          colorGrid = { this.state.colorGrid }\n          boardState = { this.state.boardState }\n          possibleMoves = { this.state.possibleMoves }\n          moveSelected = { this.state.moveSelected }\n          startingPosition = { this.state.startingPosition }\n          findSquares = { this.findSquares }\n          clearMove = { this.clearMove }\n          movePiece = { this.movePiece }\n        />\n      )\n    })\n    let moveList = this.state.moveRecord.map((value) => {\n      return (\n        <div className=\"column notationMoves\">{ value }</div>\n      )\n    })\n    return(\n      <React.Fragment>\n        { this.castlingConditions() }\n        <div className=\"row\">\n          <div className=\"column left\">\n          <p></p>\n          </div>\n          <div className=\"column middle\">\n            <div className=\"row\">\n              <div className=\"headerColumn\">\n                <img id = \"chessHeaderImage\" src = { whitePawn } alt=\"White Pawn\"/>\n              </div>\n              <div className=\"headerColumn\">\n                <img id = \"chessHeaderImage\" src = { blackKnight } alt=\"black Knight\"/>\n              </div>\n              <div className=\"headerColumn\">\n                <img id = \"chessHeaderImage\" src = { whiteKing } alt=\"White King\"/>\n              </div>\n              <div className=\"headerColumn\">\n                <h1>CHESS</h1>\n              </div>\n              <div className=\"headerColumn\">\n                <img id = \"chessHeaderImage\" src = { blackQueen } alt=\"Black Queen\"/>\n              </div>\n              <div className=\"headerColumn\">\n                <img id = \"chessHeaderImage\" src = { whiteRook } alt=\"White Rook\"/>\n              </div>\n              <div className=\"headerColumn\">\n                <img id = \"chessHeaderImage\" src = { blackBishop } alt=\"Black Bishop\"/>\n              </div>\n            </div>\n          </div>\n          <div className=\"column right\">\n          <p></p>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"column\">\n            <div id = \"boardBackground\">\n              <div id = \"boardHolder\">\n                <div id = \"boardHolderTwo\">\n                  { board }\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"column moves\">\n            <div id= \"moveBackground\">\n              <h2>{`${this.state.playerTurn} to move.`}</h2>\n              <div className=\"row\">\n                { moveList }\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\nexport default App\n"]},"metadata":{},"sourceType":"module"}